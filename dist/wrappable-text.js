function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=/*#__PURE__*/e(require("@craigmorton/linebreak"));function n(e){return e.length}module.exports=/*#__PURE__*/function(){function e(e,r){var a=void 0===r?{}:r,t=a.measure,i=a.br,u=void 0===i?"\n":i,o=a.nbsp,l=void 0===o?" ":o,p=a.shy,c=void 0===p?"­":p,v=a.zwsp,g=void 0===v?"​":v;this.measure=void 0===t?n:t,this.value=e.replace(new RegExp(u,"g"),"\n").replace(new RegExp(l,"g")," ").replace(new RegExp(c,"g"),"­").replace(new RegExp(g,"g"),"​")}var a,t=e.prototype;return t.wrap=function(e){var n=this;void 0===e&&(e=Number.POSITIVE_INFINITY);for(var a=[],t=function(e){for(var n=new r.default(e),a={};;){var t=n.nextBreak();if(!t)break;a[t.position]=t}return a}(this.value),i=0,u=function(){for(var r=i,u=0;r<n.value.length;){if(t[r]&&t[r].required&&!t[r].consumed){t[r].consumed=!0,r--;break}if((u+=n.measure(n.value.charAt(r)))>=e){var o=Object.values(t).reverse().find(function(e){return!e.consumed&&r>e.position});if(o){o.consumed=!0,r=o.position;break}}r++}var l=n.value.substring(i,r).trim();"­"===n.value.charAt(r-1)&&(l+="-"),l=l.replace("­",""),a.push({value:l,width:n.measure(l)}),i=r};i<this.value.length;)u();return{lines:a,overflow:!!a.find(function(r){return r.width>e})}},t.nowrap=function(e){void 0===e&&(e=Number.POSITIVE_INFINITY);var r=this.value.replace(new RegExp("\n","g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp("­","g"),"").replace(new RegExp("​","g"),""),n=this.measure(r);return{lines:[{value:r,width:n}],overflow:n>e}},(a=[{key:"isEmpty",get:function(){return!this.value.replace(/\s/g,"").replace(new RegExp("\n","g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp("­","g"),"").replace(new RegExp("​","g"),"")}}])&&function(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,a),e}();
//# sourceMappingURL=wrappable-text.js.map
