import e from"@craigmorton/linebreak";function r(e){return e.length}var n=/*#__PURE__*/function(){function n(e,n){var a=void 0===n?{}:n,t=a.measure,i=a.br,u=void 0===i?"\n":i,o=a.nbsp,p=void 0===o?" ":o,l=a.shy,v=void 0===l?"­":l,c=a.zwsp,g=void 0===c?"​":c;this.measure=void 0===t?r:t,this.value=e.replace(new RegExp(u,"g"),"\n").replace(new RegExp(p,"g")," ").replace(new RegExp(v,"g"),"­").replace(new RegExp(g,"g"),"​")}var a,t=n.prototype;return t.wrap=function(r){var n=this;void 0===r&&(r=Number.POSITIVE_INFINITY);for(var a=[],t=function(r){for(var n=new e(r),a={};;){var t=n.nextBreak();if(!t)break;a[t.position]=t}return a}(this.value),i=0,u=function(){for(var e=i,u=0;e<n.value.length;){if(t[e]&&t[e].required&&!t[e].consumed){t[e].consumed=!0,e--;break}if((u+=n.measure(n.value.charAt(e)))>=r){var o=Object.values(t).reverse().find(function(r){return!r.consumed&&e>r.position});if(o){o.consumed=!0,e=o.position;break}}e++}var p=n.value.substring(i,e).trim();"­"===n.value.charAt(e-1)&&(p+="-"),p=p.replace("­",""),a.push({value:p,width:n.measure(p)}),i=e};i<this.value.length;)u();return{lines:a,overflow:!!a.find(function(e){return e.width>r})}},t.nowrap=function(e){void 0===e&&(e=Number.POSITIVE_INFINITY);var r=this.value.replace(new RegExp("\n","g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp("­","g"),"").replace(new RegExp("​","g"),""),n=this.measure(r);return{lines:[{value:r,width:n}],overflow:n>e}},(a=[{key:"isEmpty",get:function(){return!this.value.replace(/\s/g,"").replace(new RegExp("\n","g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp("­","g"),"").replace(new RegExp("​","g"),"")}}])&&function(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(n.prototype,a),n}();export{n as default};
//# sourceMappingURL=wrappable-text.module.js.map
