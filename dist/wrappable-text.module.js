import e from"@craigmorton/linebreak";function r(e){return e.length}var n=/*#__PURE__*/function(){function n(e,n){var a=void 0===n?{}:n,i=a.measure,t=a.br,o=void 0===t?"\n":t,u=a.nbsp,p=void 0===u?" ":u,l=a.shy,v=void 0===l?"­":l,c=a.zwsp,s=void 0===c?"​":c;this.measure=void 0===i?r:i,this.value=e.replace(new RegExp(o,"g"),"\n").replace(new RegExp(p,"g")," ").replace(new RegExp(v,"g"),"­").replace(new RegExp(s,"g"),"​")}var a,i=n.prototype;return i.wrap=function(r){var n=this;void 0===r&&(r=Number.POSITIVE_INFINITY);for(var a=[],i=function(r){for(var n=new e(r),a={};;){var i=n.nextBreak();if(!i)break;a[i.position]=i}return a}(this.value),t=0,o=function(){for(var e=t,o=0;e<n.value.length;){if(i[e]&&i[e].required&&!i[e].consumed){i[e].consumed=!0,e--;break}if((o+=n.measure(n.value.charAt(e)))>=r){var u=Object.values(i).reverse().find(function(r){return!r.consumed&&e>r.position});if(u){u.consumed=!0,e=u.position;break}}e++}for(var p in i)p>e||i[p]&&(i[p].consumed=!0);var l=n.value.substring(t,e).trim();"­"===n.value.charAt(e-1)&&(l+="-"),l=l.replace("­",""),a.push({value:l,width:n.measure(l)}),t=e};t<this.value.length;)o();return{lines:a,overflow:!!a.find(function(e){return e.width>r})}},i.nowrap=function(e){void 0===e&&(e=Number.POSITIVE_INFINITY);var r=this.value.replace(new RegExp("\n","g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp("­","g"),"").replace(new RegExp("​","g"),""),n=this.measure(r);return{lines:[{value:r,width:n}],overflow:n>e}},(a=[{key:"isEmpty",get:function(){return!this.value.replace(/\s/g,"").replace(new RegExp("\n","g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp("­","g"),"").replace(new RegExp("​","g"),"")}}])&&function(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(n.prototype,a),n}();export{n as default};
//# sourceMappingURL=wrappable-text.module.js.map
